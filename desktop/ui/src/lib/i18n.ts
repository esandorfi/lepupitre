import { ref } from "vue";
import { hydratePreference, readPreference, writePreference } from "./preferencesStorage";

type Locale = "en" | "fr";

const STORAGE_KEY = "lepupitre_locale";
const LEGACY_STORAGE_KEYS = ["lepupitre_language"] as const;

const messages: Record<Locale, Record<string, string>> = {
  en: {
    "nav.home": "Home",
    "nav.training": "Training",
    "nav.quick_record": "Quick record",
    "nav.profiles": "Workspaces",
    "nav.talk": "Talks",
    "nav.current_talk": "Current talk",
    "nav.quest_active": "Quest",
    "nav.feedback_active": "Feedback",
    "nav.peer_review_active": "Peer review",
    "nav.boss_run": "Boss run",
    "nav.packs": "Packs",
    "nav.import": "Import",
    "nav.settings": "Settings",
    "theme.label": "Theme",
    "theme.orange": "Light",
    "theme.terminal": "Dark",
    "shell.close": "Close",
    "shell.window_minimize": "Minimize window",
    "shell.window_maximize": "Maximize or restore window",
    "shell.window_close": "Close window",
    "shell.menu_toggle": "Open settings and utilities",
    "shell.menu_theme": "Theme",
    "shell.menu_language": "Language",
    "shell.menu_settings": "Whisper settings",
    "shell.menu_packs": "Import packs",
    "shell.menu_help": "Help",
    "shell.menu_onboarding": "Onboarding",
    "shell.menu_about": "About",
    "shell.workspaces_toggle": "Open workspace switcher",
    "shell.workspaces_switch_title": "Switch workspace",
    "shell.workspaces_search": "Search a workspace…",
    "shell.workspaces_manage": "Manage workspaces…",
    "shell.workspaces_create": "Create a workspace…",
    "shell.workspaces_new": "New workspace",
    "shell.workspaces_none": "No workspace",
    "shell.workspaces_empty": "No workspaces yet. Create one to get started.",
    "shell.workspaces_recent": "Recent",
    "shell.workspaces_all": "All workspaces",
    "shell.workspaces_more_actions": "More actions for",
    "shell.workspaces_change_color": "Change navbar color",
    "shell.workspaces_color_cycle": "Cycle navbar color for",
    "shell.workspaces_loading": "Loading…",
    "shell.workspaces_empty_search": "No workspace matches this search.",
    "workspace_color.default": "Default",
    "workspace_color.amber": "Violet",
    "workspace_color.sky": "Sky",
    "workspace_color.mint": "Mint",
    "workspace_color.rose": "Rose",
    "about.title": "About",
    "about.subtitle": "Version and purpose of the app.",
    "about.readme_intro": "README intro",
    "onboarding.badge_local": "Local first",
    "onboarding.badge_offline": "Offline by default",
    "onboarding.badge_private": "Private data",
    "onboarding.title": "Welcome to Le Pupitre",
    "onboarding.subtitle": "Set up once, then run your daily training loop in a few clicks.",
    "onboarding.quickstart_title": "First 10 minutes",
    "onboarding.step_workspace_title": "1. Create your workspace",
    "onboarding.step_workspace_body": "A workspace keeps your talks and practice history separate on this device.",
    "onboarding.step_workspace_action": "Open Workspaces",
    "onboarding.step_talk_title": "2. Define your first talk",
    "onboarding.step_talk_body": "Add title, audience, goal, and target duration so quests stay contextual.",
    "onboarding.step_talk_action": "Create a talk",
    "onboarding.step_quest_title": "3. Run the daily quest",
    "onboarding.step_quest_body": "Train with text or audio and keep only two priorities to improve next.",
    "onboarding.step_quest_action": "Open Training",
    "onboarding.help_title": "Need guidance?",
    "onboarding.help_body": "Open Help for quickstart, FAQ, and developer preview commands.",
    "onboarding.action_help": "Open Help",
    "onboarding.action_about": "Open About",
    "onboarding.action_setup": "Start setup",
    "onboarding.action_continue": "Continue to app",
    "onboarding.audience_title": "Choose your onboarding track",
    "onboarding.audience_subtitle": "Pick the profile that matches your current speaking context.",
    "onboarding.audience_plan_title": "Suggested first-week routine",
    "onboarding.audience_first_label": "First-time speaker",
    "onboarding.audience_first_desc": "Build confidence and consistency first.",
    "onboarding.audience_first_goal": "Focus on structure and clear delivery before optimizing details.",
    "onboarding.audience_first_step_1": "Run one short quest daily and keep the same talk for one week.",
    "onboarding.audience_first_step_2": "In each feedback, choose only two actions for the next attempt.",
    "onboarding.audience_first_step_3": "Use Boss run on day 5 or 6 to validate progress over a longer take.",
    "onboarding.audience_manager_label": "Engineering manager",
    "onboarding.audience_manager_desc": "Clarify decisions, tradeoffs, and executive messaging.",
    "onboarding.audience_manager_goal": "Prioritize crisp narrative for status updates, plans, and technical decisions.",
    "onboarding.audience_manager_step_1": "Set audience and goal precisely in Talk setup for each communication context.",
    "onboarding.audience_manager_step_2": "Train with quests that force concise framing and clear action items.",
    "onboarding.audience_manager_step_3": "Use feedback notes to track recurring weak spots before key meetings.",
    "onboarding.audience_conference_label": "Conference speaker",
    "onboarding.audience_conference_desc": "Sharpen timing, flow, and stage-level clarity.",
    "onboarding.audience_conference_goal": "Optimize delivery rhythm and transitions for a public audience.",
    "onboarding.audience_conference_step_1": "Build and export your outline, then rehearse each section with intent.",
    "onboarding.audience_conference_step_2": "Alternate daily quests with targeted runs on hard transitions.",
    "onboarding.audience_conference_step_3": "Use full Boss runs weekly to pressure-test pacing and cohesion.",
    "help.title": "Help",
    "help.subtitle": "Quick guidance for product usage and development flow.",
    "help.quickstart_title": "Quickstart",
    "help.quickstart_1": "Create a workspace and select it as active.",
    "help.quickstart_2": "Create or open a talk.",
    "help.quickstart_3": "Run a quest from Training and request feedback.",
    "help.quickstart_4": "Use Boss run for longer sessions and export packs when needed.",
    "help.faq_title": "FAQ",
    "help.faq_1_q": "Can I work offline?",
    "help.faq_1_a": "Yes. Core training flows are local first and do not require network access.",
    "help.faq_2_q": "Where is my data stored?",
    "help.faq_2_a": "Data is stored locally in app storage, with strict IPC boundaries from the UI.",
    "help.faq_3_q": "Can I practice without transcription?",
    "help.faq_3_a": "Yes. You can keep recordings and continue manually; feedback is better with transcripts.",
    "help.faq_4_q": "How do I share reviews?",
    "help.faq_4_a": "Use Packs to export/import peer review bundles for offline exchange.",
    "help.dev_title": "Developer preview modes",
    "help.dev_subtitle": "Use browser mode for fast UI iterations, and Tauri mode for IPC and OS integration checks.",
    "help.dev_ui_only_title": "UI only (fastest)",
    "help.dev_ui_only_body": "Runs the Vue app in browser with hot reload and no native runtime.",
    "help.dev_tauri_title": "Full desktop mode",
    "help.dev_tauri_body": "Runs Tauri + Rust + UI for end-to-end validation.",
    "help.actions_title": "Actions",
    "help.action_restart_onboarding": "Restart onboarding",
    "help.action_settings": "Open settings",
    "help.action_about": "Open about",
    "help.contextual_cta": "Need help on this step?",
    "help.onboarding_tracks_title": "Onboarding tracks",
    "help.onboarding_tracks_subtitle": "Audience-specific first-week routines maintained from local markdown.",
    "help.contextual_title": "Contextual topics",
    "help.contextual_subtitle": "Topics mapped to app routes and deep-linkable via topic IDs.",
    "help.contextual_unknown_topic": "The requested topic was not found. Showing general Help content.",
    "help.open_deep_link": "Open this topic",
    "help.playbook_title": "Audience playbooks",
    "help.playbook_subtitle": "Use one playbook per talk cycle and review it after each feedback.",
    "help.playbook_focus": "Focus",
    "help.playbook_routine": "Routine",
    "help.playbook_trap": "Common trap",
    "help.playbook_first_focus": "Clarity over complexity. Keep one message and one concrete outcome.",
    "help.playbook_first_routine": "10-15 min quest daily + one review of your top two recurring actions.",
    "help.playbook_first_trap": "Changing topic every day. Keep scope narrow until delivery stabilizes.",
    "help.playbook_manager_focus": "Decision narrative: context, options, recommendation, risks.",
    "help.playbook_manager_routine": "Two short drills before meetings: opening framing and decision close.",
    "help.playbook_manager_trap": "Too much detail too early. Land the decision first, then dive deeper.",
    "help.playbook_conference_focus": "Audience journey and transitions between sections.",
    "help.playbook_conference_routine": "One section drill per day, plus one timed full run each week.",
    "help.playbook_conference_trap": "Over-polishing lines while ignoring pacing and breath control.",
    "settings.transcription.title": "Transcription",
    "settings.transcription.subtitle": "Local whisper models and live mode.",
    "settings.transcription.scope": "Local only",
    "settings.transcription.sidecar_label": "ASR engine",
    "settings.transcription.sidecar_ready": "Ready",
    "settings.transcription.sidecar_missing_label": "Missing",
    "settings.transcription.sidecar_unknown_label": "Unknown",
    "settings.transcription.sidecar_missing": "ASR engine missing from this installation. Reinstall the app.",
    "settings.transcription.sidecar_unknown": "Could not verify the ASR sidecar.",
    "settings.transcription.model_label": "Model",
    "settings.transcription.model_tiny": "Tiny",
    "settings.transcription.model_base": "Base",
    "settings.transcription.model_bundled": "Bundled",
    "settings.transcription.model_download": "Download",
    "settings.transcription.model_note": "Install Tiny to start local transcription. Base is optional.",
    "settings.transcription.model_status_ready": "Ready",
    "settings.transcription.model_status_unverified": "Ready (unverified)",
    "settings.transcription.model_status_missing": "Not installed",
    "settings.transcription.model_status_missing_bundled": "Missing",
    "settings.transcription.model_status_invalid": "Corrupted (re-download)",
    "settings.transcription.model_size": "Size",
    "settings.transcription.model_hash": "Checksum",
    "settings.transcription.model_source": "Source",
    "settings.transcription.open_source": "Open source",
    "settings.transcription.model_remove": "Remove",
    "settings.transcription.model_remove_confirm": "Remove this model from disk?",
    "settings.transcription.model_verify": "Verify",
    "settings.transcription.model_installed": "Installed",
    "settings.transcription.model_loading": "Loading models…",
    "settings.transcription.model_downloading": "Downloading…",
    "settings.transcription.model_verifying": "Verifying…",
    "settings.transcription.download_action": "Download",
    "settings.transcription.mode_label": "Mode",
    "settings.transcription.mode_auto": "Auto (benchmark tiny)",
    "settings.transcription.mode_live_final": "Live + Final",
    "settings.transcription.mode_final_only": "Final only",
    "settings.transcription.mode_note": "Tiny auto chooses based on device latency.",
    "settings.transcription.language_label": "Language",
    "settings.transcription.language_auto": "Auto",
    "settings.transcription.language_en": "English",
    "settings.transcription.language_fr": "French",
    "settings.transcription.language_note": "Auto tries to detect language.",
    "settings.transcription.spoken_punctuation_label": "Spoken punctuation",
    "settings.transcription.spoken_punctuation_on": "On",
    "settings.transcription.spoken_punctuation_off": "Off",
    "settings.transcription.spoken_punctuation_note": "Converts spoken punctuation like \"comma\" or \"new line\" into symbols.",
    "settings.transcription.spoken_punctuation_help": "Examples: \"comma\" -> ,; \"period\" -> .; \"new line\" -> line break.",
    "settings.transcription.download_base": "Download base model",
    "settings.transcription.download_note": "Downloads require explicit user action.",
    "settings.about.title": "About",
    "settings.about.description": "App info and diagnostics context.",
    "settings.about.version": "Version",
    "settings.navigation.title": "Navigation",
    "settings.navigation.subtitle": "Choose primary navigation layout and review local navigation metrics.",
    "settings.navigation.scope": "Local only",
    "settings.navigation.mode_label": "Primary navigation",
    "settings.navigation.mode_top": "Top navigation",
    "settings.navigation.mode_sidebar": "Sidebar (icon only)",
    "settings.navigation.mode_note": "Sidebar mode appears on wide windows. Narrow windows fallback to top navigation.",
    "settings.navigation.metrics_title": "Navigation metrics",
    "settings.navigation.metrics_switch_count": "Switch count",
    "settings.navigation.metrics_avg_latency": "Average latency",
    "settings.navigation.metrics_top_switch": "Top navigation switches",
    "settings.navigation.metrics_sidebar_switch": "Sidebar switches",
    "settings.navigation.metrics_sidebar_sessions": "Sidebar sessions",
    "settings.navigation.metrics_reset": "Reset metrics",
    "settings.recorder.waveform_style_label": "Waveform style",
    "settings.recorder.waveform_style_classic": "Classic",
    "settings.recorder.waveform_style_pulse_bars": "Pulse bars",
    "settings.recorder.waveform_style_ribbon": "Ribbon",
    "settings.recorder.waveform_style_spark": "Spark",
    "settings.recorder.input_device_label": "Input device",
    "settings.recorder.input_device_none": "No microphone found",
    "settings.recorder.input_device_default": "Default",
    "settings.recorder.input_device_refresh": "Refresh devices",
    "settings.voiceup.title": "VOICEUP experience",
    "settings.voiceup.subtitle": "Control mascot presence and gamification density for daily training.",
    "settings.voiceup.scope": "Local only",
    "settings.voiceup.gamification_label": "Gamification mode",
    "settings.voiceup.gamification_minimal": "Minimal",
    "settings.voiceup.gamification_balanced": "Balanced",
    "settings.voiceup.gamification_quest_world": "Quest world",
    "settings.voiceup.gamification_note": "Balanced is the default desktop-first mode.",
    "settings.voiceup.mascot_enabled_label": "Mascot coach",
    "settings.voiceup.mascot_on": "On",
    "settings.voiceup.mascot_off": "Off",
    "settings.voiceup.mascot_note": "Shows contextual guidance during training and feedback loops.",
    "settings.voiceup.mascot_intensity_label": "Mascot intensity",
    "settings.voiceup.mascot_minimal": "Minimal prompts",
    "settings.voiceup.mascot_contextual": "Context coach",
    "settings.voiceup.mascot_intensity_note": "Context coach appears at key moments without staying always visible.",
    "home.title": "Home",
    "home.subtitle": "Daily quest loop, local-first.",
    "home.talk_title": "Talk",
    "home.talk_empty": "No active talk",
    "home.talk_action": "Manage talks",
    "home.boss_run_action": "Start boss run",
    "home.profile_title": "Workspaces",
    "home.profile_empty": "Manage your workspaces from the navbar switcher.",
    "home.profile_active": "Active",
    "home.profile_action": "Manage workspaces",
    "home.profile_manage_copy": "Open the Workspaces page to create, rename, or delete workspaces.",
    "home.quest_title": "Daily quest",
    "home.quest_empty": "Create a workspace and talk to load quests.",
    "home.quest_action": "Start quest",
    "home.quest_recommended": "Recommended",
    "home.quest_followup_title": "Quest follow-up",
    "home.quest_followup_empty": "No quests yet.",
    "home.quest_followup_continue": "Continue last quest",
    "home.quest_followup_replay": "Replay",
    "home.quest_followup_feedback": "Feedback",
    "home.prototype_title": "Prototype audio",
    "home.prototype_subtitle": "Quick record tied to the daily or free quest.",
    "home.prototype_action_daily": "Record daily quest",
    "home.prototype_action_free": "Free quest",
    "home.prototype_need_profile": "Create a workspace first",
    "home.prototype_need_talk": "Create a talk first",
    "quick_record.title": "Quick record",
    "quick_record.subtitle": "Capture a take instantly. Keep it local, transcribe only when needed.",
    "quick_record.need_profile": "Create a workspace before recording.",
    "quick_record.setup_profile": "Open workspaces",
    "quick_record.audio_title": "Quick record",
    "quick_record.audio_subtitle": "Record now, then decide if you want transcription.",
    "quick_record.transcribe_optional_hint": "Transcription is optional. You can keep audio takes without feedback.",
    "training.hero_label": "Quest of the day",
    "training.hero_daily_badge": "Daily quest",
    "training.hero_selected_badge": "Selected quest",
    "training.use_daily_quest": "Use daily quest",
    "training.start": "Start",
    "training.alternate_title": "Choose another quest",
    "training.alternate_subtitle": "Use a free quest now, or pick another quest by category.",
    "training.free_quest": "Free quest",
    "training.change_quest": "Change quest",
    "training.quest_picker_title": "Quest picker",
    "training.close_picker": "Close",
    "training.quest_search_placeholder": "Search quests...",
    "training.quest_category_all": "All",
    "training.quest_sort_recent": "Recent",
    "training.quest_sort_az": "A-Z",
    "training.quest_sort_category": "Category",
    "training.quest_recent_title": "Recent quests",
    "training.quest_all_title": "All quests",
    "training.quest_picker_empty": "No quests match this filter.",
    "training.quest_start_now": "Start now",
    "training.quest_selected": "Selected",
    "training.go_talks": "Go to Talks",
    "training.feedback_title": "Feedback inbox",
    "training.feedback_empty": "No feedback ready yet.",
    "training.feedback_ready": "Ready",
    "training.history_title": "History",
    "training.history_empty": "No attempts yet.",
    "training.mascot_label": "Le Pupitre coach",
    "training.daily_loop_title": "Daily loop",
    "training.daily_loop_subtitle": "Complete these 3 steps to keep your speaking habit stable.",
    "training.daily_loop_step_practice": "Run one quest today",
    "training.daily_loop_step_feedback": "Generate at least one feedback",
    "training.daily_loop_step_momentum": "Keep a 3-day momentum streak",
    "training.daily_loop_done": "Done",
    "training.daily_loop_pending": "Pending",
    "training.daily_loop_open": "Open",
    "training.daily_loop_hint_pending": "Focus on one pending step now, then come back to this loop.",
    "training.daily_loop_hint_complete": "Daily loop complete. You can consolidate with a boss run.",
    "training.achievement_title": "Achievement unlocked",
    "training.achievement_levelup_title": "Credit level up",
    "training.achievement_levelup_body": "You crossed a new credit tier. Keep stacking short reps.",
    "training.achievement_streak3_title": "3-day streak unlocked",
    "training.achievement_streak3_body": "Your routine is now stable. Keep the loop simple and consistent.",
    "training.achievement_streak7_title": "7-day streak unlocked",
    "training.achievement_streak7_body": "Strong momentum. Validate it with one focused boss run.",
    "training.achievement_cta_feedback": "Open feedback timeline",
    "training.achievement_cta_training": "Run today's quest",
    "training.achievement_cta_boss_run": "Start boss run",
    "training.achievement_dismiss": "Later",
    "training.progress_title": "Practice progress",
    "training.progress_streak": "Streak (days)",
    "training.progress_credits": "Credits",
    "training.progress_weekly": "Weekly habit",
    "training.progress_next": "Next milestone",
    "training.progress_to_next": "to unlock",
    "training.quest_map_title": "Quest map",
    "training.quest_map_checkpoint": "Checkpoint",
    "training.quest_map_any_category": "Any",
    "training.quest_map_empty": "Start one quest to unlock your weekly route.",
    "training.quest_map_hint_start": "Start with a short quest to claim checkpoint 1.",
    "training.quest_map_hint_continue": "Keep momentum: one more quest unlocks the next checkpoint.",
    "training.quest_map_hint_today": "Nice. Today's checkpoint is secured. Keep going if you have energy.",
    "training.quest_map_hint_complete": "Weekly map complete. Convert this rhythm into a boss run.",
    "training.rewards_title": "Reward board",
    "training.rewards_unlocked": "unlocked",
    "training.rewards_status_unlocked": "Unlocked",
    "training.rewards_status_locked": "Locked",
    "training.rewards_next": "Next unlock",
    "training.reward_streak_3": "3-day streak",
    "training.reward_streak_7": "7-day streak",
    "training.reward_credits_100": "100 credits",
    "training.reward_weekly_habit": "Weekly habit",
    "profiles.title": "Workspaces",
    "profiles.subtitle": "Open a workspace to begin, or create a new one.",
    "profiles.create_title": "Create your first workspace",
    "profiles.create_placeholder": "Workspace name",
    "profiles.create_action": "Create",
    "profiles.create_helper": "You can rename it later.",
    "profiles.existing_title": "My workspaces",
    "profiles.add_title": "Add a workspace",
    "profiles.name_required": "Name is required",
    "profiles.name_exists": "A workspace with this name already exists",
    "profiles.confirm_delete": "Delete this workspace and its local data on this device?",
    "profiles.confirm_delete_action": "Delete",
    "profiles.cancel": "Cancel",
    "profiles.active": "Current",
    "profiles.switch": "Open",
    "profiles.switch_blocked_recording": "Stop recording before switching workspace.",
    "profiles.rename": "Rename",
    "profiles.delete": "Delete",
    "profiles.row_actions": "Workspace actions",
    "profiles.empty_title": "Create your first workspace",
    "profiles.empty_body": "Workspaces keep your talks and practice data separate on this device.",
    "profiles.delete_title_prefix": "Delete workspace",
    "profiles.delete_body_prefix": "Local data for",
    "profiles.delete_body_suffix": "will be deleted from this device.",
    "talk.title": "Talk setup",
    "talk.subtitle": "Define the talk you want to practice.",
    "talk.need_profile": "Create a workspace first.",
    "talk.goto_profiles": "Go to Workspaces",
    "talk.active_title": "Active talk",
    "talk.title_placeholder": "Talk title",
    "talk.audience_placeholder": "Audience (optional)",
    "talk.goal_placeholder": "Goal (optional)",
    "talk.duration_placeholder": "Target duration in minutes",
    "talk.save": "Save talk",
    "talk.back": "Back to Home",
    "talk.title_required": "Title is required",
    "talk_steps.aria": "Talk steps",
    "talk_steps.define": "Define",
    "talk_steps.builder": "Builder",
    "talk_steps.train": "Train",
    "talk_steps.export": "Export",
    "talk_define.title": "Define",
    "talk_define.subtitle": "Define the talk title, audience, goal, and target duration.",
    "talk_define.missing": "This talk could not be found.",
    "talk_define.field_title": "Title",
    "talk_define.field_audience": "Audience",
    "talk_define.field_goal": "Goal",
    "talk_define.field_duration": "Target duration",
    "talk_define.duration_missing": "Define a duration",
    "talk_define.empty_value": "Not defined yet",
    "talk_define.autosave_hint": "Changes save automatically when you leave a field.",
    "talk_define.saving": "Saving...",
    "talk_define.saved": "Saved",
    "talk_define.save_error": "Could not save changes",
    "talk_define.duration_invalid": "Duration must be a positive number of minutes",
    "talk_define.readiness_title": "Talk readiness",
    "talk_define.readiness_subtitle": "Complete these inputs before moving to structure and rehearsal.",
    "talk_define.readiness_ready": "Scope is complete. You can move to Builder with a clear brief.",
    "talk_define.readiness_missing": "Next field to define:",
    "talk_define.check_title": "Title defined",
    "talk_define.check_audience": "Audience defined",
    "talk_define.check_goal": "Goal defined",
    "talk_define.check_duration": "Duration defined",
    "talk_define.check_done": "Done",
    "talk_define.check_missing": "Missing",
    "talk_define.stage_title": "Stage",
    "talk_define.stage_hint": "Set the current progression step for this talk.",
    "talk_define.continue_builder": "Continue to Builder",
    "talk_define.continue_train": "Continue to Train",
    "talk_define.continue_export": "Continue to Export",
    "talk_define.open_export": "Open Export",
    "quest.title": "Quest",
    "quest.code": "Code",
    "quest.daily": "daily",
    "quest.loading": "Loading quest...",
    "quest.response_placeholder": "Write your response",
    "quest.submit": "Submit text",
    "quest.submit_update": "Submit updated text",
    "quest.back": "Back",
    "quest.audio_hint": "Record your response below.",
    "quest.analyze": "Analyze",
    "quest.transcribe_first": "Transcribe first",
    "quest.request_feedback": "Ask for feedback",
    "quest.skip_transcription": "Skip transcription",
    "quest.keep_without_feedback": "Keep without feedback",
    "quest.transcript_optional": "Transcription is optional. You can keep the take without feedback.",
    "quest.empty": "No quest loaded yet.",
    "quest.response_required": "Response cannot be empty",
    "quest.step_brief": "1. Brief",
    "quest.step_capture": "2. Capture",
    "quest.step_analysis": "3. Analyze",
    "quest.capture_saved": "Saved",
    "quest.capture_saved_text": "Text response saved. You can analyze now.",
    "quest.capture_saved_audio": "Audio saved. Transcribe to unlock feedback analysis.",
    "quest.capture_ready_audio": "Audio and transcript saved. You can analyze now.",
    "quest.submit_to_continue": "Submit a response to continue.",
    "quest.analysis_wait_capture": "Write a response, then submit it to continue.",
    "quest.analysis_wait_submit": "Submit your text response to unlock analysis.",
    "quest.analysis_wait_record": "Record a response to continue.",
    "quest.analysis_wait_transcript": "Use the recorder's Transcribe action to unlock analysis, or keep the take without feedback.",
    "quest.analysis_ready": "Ready to analyze and generate feedback.",
    "quest.text_submitted_hint": "Text saved. Edit the text and submit again to create a new attempt.",
    "quest.text_changed_resubmit": "Text changed. Submit again to update the saved attempt before analyzing.",
    "quest.status_feedback": "Feedback ready",
    "quest.status_transcribed": "Transcribed",
    "quest.status_recorded": "Recorded",
    "quest.status_submitted": "Submitted",
    "quest.status_not_started": "Not started",
    "quest.output_audio": "Audio",
    "quest.output_text": "Text",
    "talks.title": "Talks",
    "talks.subtitle": "Pick the talk you want to practice.",
    "talks.create": "New talk",
    "talks.empty": "No talk yet. Create the first one.",
    "talks.set_active": "Set active",
    "talks.active": "Active",
    "talks.loading": "Loading talks...",
    "talks.duration": "Target",
    "talks.stage": "Stage",
    "talks.last_activity": "Last activity",
    "talks.last_activity_unknown": "Unknown",
    "talks.last_activity_just_now": "just now",
    "talks.minutes": "min",
    "talks.view_report": "Report",
    "talks.mascot_label": "Talk coach",
    "talks.blueprint_label": "Talk mission",
    "talks.blueprint_done": "Done",
    "talks.blueprint_pending": "Next",
    "talks.blueprint_open": "Open",
    "talk_report.title": "Talk report",
    "talk_report.subtitle": "All quests and progress for this talk.",
    "talk_report.loading": "Loading report...",
    "talk_report.unknown": "Unknown talk",
    "talk_report.duration": "Target",
    "talk_report.minutes": "min",
    "talk_report.active": "Active",
    "talk_report.set_active": "Set active",
    "talk_report.back": "Back to talks",
    "talk_report.boss_run": "Boss run",
    "talk_report.builder": "Builder",
    "talk_report.packs": "Import feedback",
    "talk_report.export_title": "Export pack",
    "talk_report.total": "Quests",
    "talk_report.started": "Started",
    "talk_report.feedback": "Feedback",
    "talk_report.last_activity": "Last activity",
    "talk_report.quest_library": "Quest library",
    "talk_report.quest_label": "Quest",
    "talk_report.open_quest": "Open quest",
    "talk_report.view_feedback": "View feedback",
    "talk_report.no_quests": "No quests available.",
    "talk_report.timeline": "Timeline",
    "talk_report.timeline_empty": "No activity yet.",
    "talk_report.timeline_boss_run": "Boss run",
    "talk_report.timeline_started": "Started",
    "talk_report.timeline_recorded": "Recorded",
    "talk_report.timeline_transcribed": "Transcribed",
    "talk_report.timeline_feedback": "Feedback ready",
    "talk_report.timeline_peer_review": "Peer review",
    "talk_report.timeline_peer_review_status": "Review received",
    "talk_report.view_item": "View",
    "boss_run.title": "Boss run",
    "boss_run.subtitle": "Long-form recording and feedback loop (6-12 min).",
    "boss_run.no_talk": "Select an active talk to attach this run.",
    "boss_run.need_profile": "Create a workspace to start a boss run.",
    "boss_run.setup_profile": "Go to Workspaces",
    "boss_run.need_talk": "Create a talk before starting a boss run.",
    "boss_run.setup_talk": "Set up talk",
    "boss_run.audio_title": "Boss run recording",
    "boss_run.audio_subtitle": "Record a long-form take.",
    "boss_run.request_feedback": "Analyze run",
    "boss_run.view_report": "View report",
    "boss_run.transcript_optional": "Transcription is optional, but required for feedback.",
    "boss_run.latest_title": "Latest run",
    "boss_run.latest_label": "Boss run",
    "boss_run.latest_date": "Date",
    "boss_run.latest_status": "Status",
    "boss_run.latest_empty": "No boss run yet.",
    "boss_run.loading": "Loading boss run...",
    "boss_run.status_empty": "Not started",
    "boss_run.status_recorded": "Recorded",
    "boss_run.status_transcribed": "Transcribed",
    "boss_run.status_feedback": "Feedback ready",
    "boss_run.run_missing": "Record a run before analyzing.",
    "builder.title": "Talk builder",
    "builder.subtitle": "Shape your talk outline.",
    "builder.no_profile": "Create a workspace to edit an outline.",
    "builder.no_talk": "Create a talk to start the outline.",
    "builder.setup_profile": "Go to Workspaces",
    "builder.setup_talk": "Set up talk",
    "builder.outline_label": "Outline",
    "builder.save": "Save outline",
    "builder.saving": "Saving...",
    "builder.saved": "Outline saved",
    "builder.export": "Export markdown",
    "builder.export_ready": "Export ready",
    "builder.export_path": "Saved to",
    "builder.export_reveal": "Reveal file",
    "builder.loading": "Loading outline...",
    "builder.framework_title": "Method challenge",
    "builder.framework_apply_template": "Apply structure template",
    "builder.template_confirm_overwrite": "Replace current outline with this framework template?",
    "builder.prompt_problem_solution_impact_1": "What pain or risk is urgent now?",
    "builder.prompt_problem_solution_impact_2": "What is your solution in one sentence?",
    "builder.prompt_problem_solution_impact_3": "What concrete impact do you expect?",
    "builder.prompt_context_change_decision_1": "What changed since the last update?",
    "builder.prompt_context_change_decision_2": "Which options exist and what are tradeoffs?",
    "builder.prompt_context_change_decision_3": "What decision do you need now?",
    "builder.prompt_hook_story_proof_1": "What hook should the audience remember first?",
    "builder.prompt_hook_story_proof_2": "What short story makes the problem tangible?",
    "builder.prompt_hook_story_proof_3": "What proof secures trust?",
    "builder.template_problem": "Problem",
    "builder.template_solution": "Solution",
    "builder.template_impact": "Impact",
    "builder.template_decision": "Decision and ask",
    "builder.template_context": "Context",
    "builder.template_change": "What changed",
    "builder.template_options": "Options and tradeoffs",
    "builder.template_hook": "Hook",
    "builder.template_story": "Story",
    "builder.template_proof": "Proof",
    "builder.template_close": "Close and next step",
    "packs.title": "Packs",
    "packs.subtitle": "Import peer feedback packs.",
    "packs.no_profile": "Create a workspace to manage packs.",
    "packs.no_talk": "Create a talk to export runs.",
    "packs.setup_profile": "Go to Workspaces",
    "packs.setup_talk": "Set up talk",
    "packs.run_list_title": "Boss runs",
    "packs.run_status_recorded": "Recorded",
    "packs.run_status_transcribed": "Transcribed",
    "packs.run_status_feedback": "Feedback ready",
    "packs.export": "Export pack",
    "packs.export_ready": "Export ready",
    "packs.export_path": "Saved to",
    "packs.export_reveal": "Reveal file",
    "packs.import_title": "Import peer review",
    "packs.import_drop_title": "Drop the pack zip here",
    "packs.import_drop_hint": "Drag a pack zip onto the window to import.",
    "packs.import_pick": "Or choose a file",
    "packs.import_path": "Selected file",
    "packs.import_checking": "Checking pack...",
    "packs.import_invalid": "Drop a valid pack zip first.",
    "packs.import_from": "From",
    "packs.import_from_unknown": "Unknown",
    "packs.import_contents": "Contents",
    "packs.import_pack_id": "Pack",
    "packs.import_placeholder": "Path to pack zip",
    "packs.import_no_path": "This file path is not available.",
    "packs.import_action": "Import",
    "packs.import_success": "Review imported",
    "packs.import_view_talk": "View imported talk",
    "feedback.title": "Feedback",
    "feedback.subtitle": "What to improve next.",
    "feedback.timeline_title": "Feedback timeline",
    "feedback.timeline_subtitle": "Track quest and boss run feedback in one place.",
    "feedback.timeline_total": "Items",
    "feedback.timeline_average": "Average score",
    "feedback.timeline_notes": "With notes",
    "feedback.timeline_scope_workspace": "Workspace",
    "feedback.timeline_scope_talk": "Current talk",
    "feedback.timeline_filter_all": "All",
    "feedback.timeline_filter_quest": "Quests",
    "feedback.timeline_filter_run": "Boss runs",
    "feedback.timeline_filter_unread": "Unread",
    "feedback.timeline_open": "Open",
    "feedback.timeline_focus_title": "Latest feedback ready",
    "feedback.timeline_focus_hint": "Review it now, then continue your loop.",
    "feedback.timeline_focus_badge": "New",
    "feedback.timeline_focus_delta_up": "Improved vs previous",
    "feedback.timeline_focus_delta_down": "Lower vs previous",
    "feedback.timeline_focus_delta_flat": "Same score as previous",
    "feedback.timeline_focus_action_quest": "Run next quest",
    "feedback.timeline_focus_action_run": "Open boss run",
    "feedback.timeline_empty": "No feedback in this scope yet.",
    "feedback.timeline_run_title": "Boss run review",
    "feedback.feedback_id": "Feedback id",
    "feedback.last_attempt": "Last attempt id",
    "feedback.back_parent": "Back to quest",
    "feedback.review_marked": "Marked as reviewed",
    "feedback.review_already": "Already reviewed",
    "feedback.reviewed_label": "Reviewed",
    "feedback.unread_label": "Unread",
    "feedback.score": "Score",
    "feedback.loading": "Loading feedback...",
    "feedback.empty": "No feedback available yet.",
    "feedback.actions": "Top actions",
    "feedback.no_actions": "No priority action yet.",
    "feedback.practice_next_title": "Practice next",
    "feedback.practice_next_subtitle": "Jump directly into a targeted quest while this feedback is still fresh.",
    "feedback.practice_next_training": "Open training",
    "feedback.metrics": "Metrics",
    "feedback.comments": "Comments",
    "feedback.metric_wpm": "Words per minute",
    "feedback.metric_fillers": "Fillers per minute",
    "feedback.metric_pause": "Pause count",
    "feedback.metric_sentence": "Avg sentence words",
    "feedback.metric_repeat": "Repeated terms",
    "feedback.context_label": "Context",
    "feedback.quest_code": "Quest",
    "feedback.run_label": "Boss run",
    "feedback.notes_title": "Your notes",
    "feedback.notes_placeholder": "Add your own notes or edits...",
    "feedback.notes_saving": "Saving notes...",
    "feedback.notes_saved": "Notes saved",
    "feedback.notes_error": "Could not save notes",
    "feedback.mascot_label": "Feedback coach",
    "peer_review.title": "Peer review",
    "peer_review.subtitle": "Peer review summary.",
    "peer_review.loading": "Loading peer review...",
    "peer_review.back": "Back to talk",
    "peer_review.reviewer_unknown": "Anonymous reviewer",
    "peer_review.rubric": "Rubric",
    "peer_review.scores": "Scores",
    "peer_review.free_text": "Notes",
    "peer_review.timestamps": "Timestamps",
    "peer_review.empty": "No peer review data.",
    "security.title": "Security Probe (dev)",
    "security.subtitle": "Expect both tests to be blocked in production.",
    "security.test_network": "Test network",
    "security.test_blocked": "Test blocked path",
    "security.test_appdata": "Test appdata path",
    "security.network": "Network",
    "security.fs_blocked": "File system (blocked path)",
    "security.fs_appdata": "File system (appdata)",
    "audio.title": "Audio spike",
    "audio.subtitle": "Record a voice take locally.",
    "audio.pass_label": "Pass 0",
    "audio.phase_capture": "Record",
    "audio.phase_quick_clean": "Quick Clean",
    "audio.phase_analyze_export": "Analyze / Export",
    "audio.start": "Start recording",
    "audio.pause": "Pause",
    "audio.resume": "Resume",
    "audio.stop": "Stop + Save",
    "audio.rec_badge": "REC",
    "audio.paused_badge": "PAUSED",
    "audio.quality_no_signal": "No signal",
    "audio.quality_too_loud": "Too loud - clipping",
    "audio.quality_noisy_room": "Noisy room",
    "audio.quality_too_quiet": "Too quiet - move closer",
    "audio.quality_good_level": "Good level",
    "audio.reveal": "Reveal file",
    "audio.transcribe": "Transcribe",
    "audio.status": "Status",
    "audio.status_idle": "Idle",
    "audio.status_requesting": "Requesting microphone",
    "audio.status_recording": "Recording",
    "audio.status_encoding": "Encoding",
    "audio.duration": "Duration",
    "audio.saved_to": "Saved to",
    "audio.transcription": "Transcription",
    "audio.stage_queued": "Queued",
    "audio.stage_analyze": "Analyzing audio",
    "audio.stage_serialize": "Finalizing transcript",
    "audio.stage_transcribe": "Transcribing",
    "audio.stage_final": "Final pass",
    "audio.stage_done": "Done",
    "audio.stage_processing": "Processing",
    "audio.transcript_title": "Transcript",
    "audio.export_txt": "Export .txt",
    "audio.export_json": "Export .json",
    "audio.export_srt": "Export .srt",
    "audio.export_vtt": "Export .vtt",
    "audio.exported_to": "Exported to",
    "audio.open_export": "Open export",
    "audio.live_transcript": "Live transcript",
    "audio.quick_clean_transcribe_optional": "Recording is saved. Transcription is optional and can be done now or later.",
    "audio.quick_clean_not_ready": "Transcript is not ready yet.",
    "audio.quick_clean_transcribe_now": "Transcribe now",
    "audio.quick_clean_placeholder": "Edit transcript",
    "audio.quick_clean_save_edited": "Save edited transcript",
    "audio.quick_clean_auto_clean": "Auto clean fillers",
    "audio.quick_clean_fix_punctuation": "Fix punctuation",
    "audio.quick_clean_open_original": "Open original audio",
    "audio.quick_clean_continue": "Continue",
    "audio.quick_clean_trim_title": "Trim audio",
    "audio.quick_clean_trim_hint": "Select start and end, then apply trim. Re-transcribe after trimming.",
    "audio.quick_clean_trim_unavailable": "Audio duration is unavailable for trimming.",
    "audio.quick_clean_trim_start": "Start",
    "audio.quick_clean_trim_end": "End",
    "audio.quick_clean_trim_duration": "Selected duration",
    "audio.quick_clean_trim_reset": "Reset",
    "audio.quick_clean_trim_apply": "Apply trim",
    "audio.quick_clean_trim_applying": "Applying trim...",
    "audio.quick_clean_trim_applied": "Trim applied. Transcribe again to continue.",
    "audio.calibration_title": "Signal guidance",
    "audio.calibration_good_1": "Level is healthy. Keep this distance from the microphone.",
    "audio.calibration_good_2": "Do one short test sentence before long takes.",
    "audio.calibration_quiet_1": "Move closer to the microphone or pick a stronger input device.",
    "audio.calibration_quiet_2": "Raise OS input gain if your level stays low.",
    "audio.calibration_loud_1": "Lower microphone gain or increase distance to avoid clipping.",
    "audio.calibration_loud_2": "Aim for stable medium peaks instead of max volume.",
    "audio.calibration_noisy_1": "Reduce room noise and disable nearby audio sources.",
    "audio.calibration_noisy_2": "Choose a directional microphone when possible.",
    "audio.calibration_no_signal_1": "Check microphone permissions and selected device.",
    "audio.calibration_no_signal_2": "Speak for two seconds to confirm capture before starting.",
    "audio.telemetry_budget_title": "Telemetry budget",
    "audio.telemetry_budget_ok": "Within budget",
    "audio.telemetry_budget_warn": "Budget exceeded",
    "audio.export_preset_presentation": "Presentation",
    "audio.export_preset_podcast": "Podcast",
    "audio.export_preset_voice_note": "Voice note",
    "audio.more_formats": "More formats",
    "audio.back_to_quick_clean": "Back to Quick Clean",
    "audio.advanced": "Advanced",
    "audio.diagnostic": "Diagnostic",
    "audio.announcement_started": "Recording started",
    "audio.announcement_paused": "Recording paused",
    "audio.announcement_resumed": "Recording resumed",
    "audio.announcement_stopped": "Recording stopped",
    "audio.transcript_empty": "Transcript cannot be empty.",
    "audio.profile_required": "Create a workspace before recording.",
    "audio.error_sidecar_missing": "Transcription engine is missing. Reinstall the app.",
    "audio.error_sidecar_missing_action": "Open Help",
    "audio.error_model_missing": "Selected model is missing. Download it in Settings.",
    "audio.error_model_missing_action": "Open Settings",
    "audio.error_asr_timeout": "Transcription timed out. Try a shorter recording or a smaller model.",
    "status.idle": "idle",
    "status.running": "running",
    "status.allowed": "allowed",
    "status.blocked": "blocked",
    "status.error": "error"
  },
  fr: {
    "nav.home": "Accueil",
    "nav.training": "Entraînement",
    "nav.quick_record": "Capture rapide",
    "nav.profiles": "Espaces",
    "nav.talk": "Talks",
    "nav.current_talk": "Talk actuel",
    "nav.quest_active": "Quête",
    "nav.feedback_active": "Feedback",
    "nav.peer_review_active": "Feedback pair",
    "nav.boss_run": "Boss run",
    "nav.packs": "Packs",
    "nav.import": "Importer",
    "nav.settings": "Paramètres",
    "theme.label": "Thème",
    "theme.orange": "Clair",
    "theme.terminal": "Sombre",
    "shell.close": "Fermer",
    "shell.window_minimize": "Minimiser la fenetre",
    "shell.window_maximize": "Maximiser ou restaurer la fenetre",
    "shell.window_close": "Fermer la fenetre",
    "shell.menu_toggle": "Ouvrir le menu utilitaires",
    "shell.menu_theme": "Thème",
    "shell.menu_language": "Langue",
    "shell.menu_settings": "Paramètres Whisper",
    "shell.menu_packs": "Import packs",
    "shell.menu_help": "Aide",
    "shell.menu_onboarding": "Onboarding",
    "shell.menu_about": "À propos",
    "shell.workspaces_toggle": "Ouvrir le sélecteur d'espaces",
    "shell.workspaces_switch_title": "Changer d'espace",
    "shell.workspaces_search": "Rechercher un espace…",
    "shell.workspaces_manage": "Gérer les espaces…",
    "shell.workspaces_create": "Créer un espace…",
    "shell.workspaces_new": "Nouvel espace",
    "shell.workspaces_none": "Aucun espace",
    "shell.workspaces_empty": "Aucun espace pour le moment. Créez-en un pour commencer.",
    "shell.workspaces_recent": "Récents",
    "shell.workspaces_all": "Tous les espaces",
    "shell.workspaces_more_actions": "Plus d'actions pour",
    "shell.workspaces_change_color": "Changer la couleur de la barre",
    "shell.workspaces_color_cycle": "Changer la couleur de la barre pour",
    "shell.workspaces_loading": "Chargement…",
    "shell.workspaces_empty_search": "Aucun espace ne correspond.",
    "workspace_color.default": "Défaut",
    "workspace_color.amber": "Violet",
    "workspace_color.sky": "Ciel",
    "workspace_color.mint": "Menthe",
    "workspace_color.rose": "Rose",
    "about.title": "À propos",
    "about.subtitle": "Version et rappel du but de l'application.",
    "about.readme_intro": "Introduction du README",
    "onboarding.badge_local": "Local first",
    "onboarding.badge_offline": "Offline par défaut",
    "onboarding.badge_private": "Données privées",
    "onboarding.title": "Bienvenue sur Le Pupitre",
    "onboarding.subtitle": "Une configuration initiale, puis une boucle d'entrainement quotidienne simple.",
    "onboarding.quickstart_title": "Premières 10 minutes",
    "onboarding.step_workspace_title": "1. Créer un espace",
    "onboarding.step_workspace_body": "Un espace garde vos talks et votre historique séparés sur cet appareil.",
    "onboarding.step_workspace_action": "Ouvrir Espaces",
    "onboarding.step_talk_title": "2. Définir le premier talk",
    "onboarding.step_talk_body": "Ajoutez titre, audience, objectif et durée cible pour contextualiser les quêtes.",
    "onboarding.step_talk_action": "Créer un talk",
    "onboarding.step_quest_title": "3. Lancer la quête du jour",
    "onboarding.step_quest_body": "Travaillez en texte ou audio, puis gardez deux priorités pour la suite.",
    "onboarding.step_quest_action": "Ouvrir Entrainement",
    "onboarding.help_title": "Besoin d'aide ?",
    "onboarding.help_body": "Ouvrez l'aide pour le quickstart, la FAQ, et les commandes de preview dev.",
    "onboarding.action_help": "Ouvrir l'aide",
    "onboarding.action_about": "Ouvrir A propos",
    "onboarding.action_setup": "Commencer la configuration",
    "onboarding.action_continue": "Continuer vers l'app",
    "onboarding.audience_title": "Choisir un parcours d'onboarding",
    "onboarding.audience_subtitle": "Selectionnez le profil qui correspond a votre contexte actuel.",
    "onboarding.audience_plan_title": "Routine conseillee pour la premiere semaine",
    "onboarding.audience_first_label": "Premier speaker",
    "onboarding.audience_first_desc": "Construire confiance et regularite avant le reste.",
    "onboarding.audience_first_goal": "Se concentrer sur la structure et la clarte avant les optimisations fines.",
    "onboarding.audience_first_step_1": "Lancer une quete courte par jour sur le meme talk pendant une semaine.",
    "onboarding.audience_first_step_2": "Apres chaque feedback, garder seulement deux actions prioritaires.",
    "onboarding.audience_first_step_3": "Faire un Boss run au jour 5 ou 6 pour verifier la progression.",
    "onboarding.audience_manager_label": "Engineering manager",
    "onboarding.audience_manager_desc": "Clarifier decisions, compromis et message executif.",
    "onboarding.audience_manager_goal": "Prioriser un recit net pour les updates, plans et choix techniques.",
    "onboarding.audience_manager_step_1": "Definir audience et objectif precis dans Talk setup selon le contexte.",
    "onboarding.audience_manager_step_2": "S entrainer avec des quetes centrees sur cadrage concis et actions claires.",
    "onboarding.audience_manager_step_3": "Utiliser les notes de feedback pour suivre les faiblesses recurrentes.",
    "onboarding.audience_conference_label": "Conference speaker",
    "onboarding.audience_conference_desc": "Affiner timing, fluidite et clarte sur scene.",
    "onboarding.audience_conference_goal": "Optimiser rythme et transitions pour un public large.",
    "onboarding.audience_conference_step_1": "Structurer et exporter le plan puis repeter chaque section avec intention.",
    "onboarding.audience_conference_step_2": "Alterner quetes quotidiennes et runs cibles sur les transitions difficiles.",
    "onboarding.audience_conference_step_3": "Faire un Boss run complet chaque semaine pour tester le pacing global.",
    "help.title": "Aide",
    "help.subtitle": "Guides rapides pour l'usage produit et le flux de développement.",
    "help.quickstart_title": "Quickstart",
    "help.quickstart_1": "Créer un espace et le définir actif.",
    "help.quickstart_2": "Créer ou ouvrir un talk.",
    "help.quickstart_3": "Lancer une quête depuis Entrainement puis demander un feedback.",
    "help.quickstart_4": "Utiliser Boss run pour les sessions longues et Packs pour l'échange pair.",
    "help.faq_title": "FAQ",
    "help.faq_1_q": "Puis-je travailler hors ligne ?",
    "help.faq_1_a": "Oui. Les flux principaux sont local first et ne nécessitent pas de réseau.",
    "help.faq_2_q": "Ou sont stockées mes données ?",
    "help.faq_2_a": "Les données restent en local dans le stockage app, avec des limites IPC strictes.",
    "help.faq_3_q": "Puis-je pratiquer sans transcription ?",
    "help.faq_3_a": "Oui. Vous pouvez garder les enregistrements; le feedback est meilleur avec transcription.",
    "help.faq_4_q": "Comment partager une review ?",
    "help.faq_4_a": "Utilisez Packs pour exporter/importer des bundles de feedback pair hors ligne.",
    "help.dev_title": "Modes preview développeur",
    "help.dev_subtitle": "Le mode navigateur accélère l'UI; le mode Tauri valide IPC et intégration OS.",
    "help.dev_ui_only_title": "UI seule (plus rapide)",
    "help.dev_ui_only_body": "Lance l'application Vue en navigateur avec hot reload, sans runtime natif.",
    "help.dev_tauri_title": "Mode desktop complet",
    "help.dev_tauri_body": "Lance Tauri + Rust + UI pour validation end-to-end.",
    "help.actions_title": "Actions",
    "help.action_restart_onboarding": "Relancer l'onboarding",
    "help.action_settings": "Ouvrir les paramètres",
    "help.action_about": "Ouvrir A propos",
    "help.contextual_cta": "Besoin d'aide sur cette etape ?",
    "help.onboarding_tracks_title": "Parcours d'onboarding",
    "help.onboarding_tracks_subtitle": "Routines de premiere semaine par audience, chargees depuis des fichiers markdown locaux.",
    "help.contextual_title": "Sujets contextuels",
    "help.contextual_subtitle": "Sujets relies aux routes de l'application et accessibles via topic ID.",
    "help.contextual_unknown_topic": "Le topic demande est introuvable. Contenu d'aide general affiche.",
    "help.open_deep_link": "Ouvrir ce topic",
    "help.playbook_title": "Playbooks par audience",
    "help.playbook_subtitle": "Utilisez un playbook par cycle de talk et revisez-le apres chaque feedback.",
    "help.playbook_focus": "Focus",
    "help.playbook_routine": "Routine",
    "help.playbook_trap": "Piege courant",
    "help.playbook_first_focus": "Clarte avant complexite. Un message central et un resultat concret.",
    "help.playbook_first_routine": "10-15 min de quete quotidienne + revue des deux actions recurrentes.",
    "help.playbook_first_trap": "Changer de sujet chaque jour. Garder un scope stable au debut.",
    "help.playbook_manager_focus": "Recit de decision: contexte, options, recommandation, risques.",
    "help.playbook_manager_routine": "Deux drills courts avant reunion: ouverture et conclusion de decision.",
    "help.playbook_manager_trap": "Trop de detail trop tot. Poser la decision puis approfondir.",
    "help.playbook_conference_focus": "Parcours audience et transitions entre sections.",
    "help.playbook_conference_routine": "Un drill de section par jour + un run complet chrono par semaine.",
    "help.playbook_conference_trap": "Polir les phrases sans travailler le rythme et la respiration.",
    "settings.transcription.title": "Transcription",
    "settings.transcription.subtitle": "Modèles whisper locaux et mode live.",
    "settings.transcription.scope": "Local uniquement",
    "settings.transcription.sidecar_label": "Moteur ASR",
    "settings.transcription.sidecar_ready": "Prêt",
    "settings.transcription.sidecar_missing_label": "Manquant",
    "settings.transcription.sidecar_unknown_label": "Inconnu",
    "settings.transcription.sidecar_missing": "Moteur ASR manquant dans cette installation. Réinstallez l'application.",
    "settings.transcription.sidecar_unknown": "Impossible de vérifier le sidecar ASR.",
    "settings.transcription.model_label": "Modèle",
    "settings.transcription.model_tiny": "Tiny",
    "settings.transcription.model_base": "Base",
    "settings.transcription.model_bundled": "Inclus",
    "settings.transcription.model_download": "Téléchargement",
    "settings.transcription.model_note": "Installez Tiny pour démarrer la transcription locale. Base est optionnel.",
    "settings.transcription.model_status_ready": "Prêt",
    "settings.transcription.model_status_unverified": "Prêt (non vérifié)",
    "settings.transcription.model_status_missing": "Non installé",
    "settings.transcription.model_status_missing_bundled": "Manquant",
    "settings.transcription.model_status_invalid": "Corrompu (retélécharger)",
    "settings.transcription.model_size": "Taille",
    "settings.transcription.model_hash": "Checksum",
    "settings.transcription.model_source": "Source",
    "settings.transcription.open_source": "Ouvrir la source",
    "settings.transcription.model_remove": "Supprimer",
    "settings.transcription.model_remove_confirm": "Supprimer ce modèle du disque ?",
    "settings.transcription.model_verify": "Vérifier",
    "settings.transcription.model_installed": "Installé",
    "settings.transcription.model_loading": "Chargement des modèles…",
    "settings.transcription.model_downloading": "Téléchargement…",
    "settings.transcription.model_verifying": "Vérification…",
    "settings.transcription.download_action": "Télécharger",
    "settings.transcription.mode_label": "Mode",
    "settings.transcription.mode_auto": "Auto (benchmark tiny)",
    "settings.transcription.mode_live_final": "Live + final",
    "settings.transcription.mode_final_only": "Final seulement",
    "settings.transcription.mode_note": "Auto pour tiny selon la latence de la machine.",
    "settings.transcription.language_label": "Langue",
    "settings.transcription.language_auto": "Auto",
    "settings.transcription.language_en": "Anglais",
    "settings.transcription.language_fr": "Français",
    "settings.transcription.language_note": "Auto tente de détecter la langue.",
    "settings.transcription.spoken_punctuation_label": "Ponctuation dictée",
    "settings.transcription.spoken_punctuation_on": "Activée",
    "settings.transcription.spoken_punctuation_off": "Désactivée",
    "settings.transcription.spoken_punctuation_note": "Convertit les mots comme \"virgule\" ou \"retour à la ligne\" en symboles.",
    "settings.transcription.spoken_punctuation_help": "Exemples: \"virgule\" -> ,; \"point\" -> .; \"retour à la ligne\" -> saut de ligne.",
    "settings.transcription.download_base": "Télécharger le modèle base",
    "settings.transcription.download_note": "Le téléchargement nécessite une action explicite.",
    "settings.about.title": "À propos",
    "settings.about.description": "Informations de version et contexte diagnostic.",
    "settings.about.version": "Version",
    "settings.navigation.title": "Navigation",
    "settings.navigation.subtitle": "Choisir la disposition principale et suivre des metriques locales.",
    "settings.navigation.scope": "Local uniquement",
    "settings.navigation.mode_label": "Navigation principale",
    "settings.navigation.mode_top": "Navigation en haut",
    "settings.navigation.mode_sidebar": "Barre laterale (icones)",
    "settings.navigation.mode_note": "La barre laterale apparait sur les fenetres larges. Les fenetres etroites reviennent en mode haut.",
    "settings.navigation.metrics_title": "Metriques de navigation",
    "settings.navigation.metrics_switch_count": "Nombre de changements",
    "settings.navigation.metrics_avg_latency": "Latence moyenne",
    "settings.navigation.metrics_top_switch": "Changements via le haut",
    "settings.navigation.metrics_sidebar_switch": "Changements via barre laterale",
    "settings.navigation.metrics_sidebar_sessions": "Sessions en barre laterale",
    "settings.navigation.metrics_reset": "Reinitialiser les metriques",
    "settings.recorder.waveform_style_label": "Style de waveform",
    "settings.recorder.waveform_style_classic": "Classique",
    "settings.recorder.waveform_style_pulse_bars": "Barres pulse",
    "settings.recorder.waveform_style_ribbon": "Ruban",
    "settings.recorder.waveform_style_spark": "Etincelles",
    "settings.recorder.input_device_label": "Peripherique d'entree",
    "settings.recorder.input_device_none": "Aucun micro detecte",
    "settings.recorder.input_device_default": "Defaut",
    "settings.recorder.input_device_refresh": "Actualiser les peripheriques",
    "settings.voiceup.title": "Experience VOICEUP",
    "settings.voiceup.subtitle": "Regle la presence du mascot et le niveau de gamification du training.",
    "settings.voiceup.scope": "Local uniquement",
    "settings.voiceup.gamification_label": "Mode gamification",
    "settings.voiceup.gamification_minimal": "Minimal",
    "settings.voiceup.gamification_balanced": "Equilibre",
    "settings.voiceup.gamification_quest_world": "Monde quetes",
    "settings.voiceup.gamification_note": "Equilibre est le mode desktop par defaut.",
    "settings.voiceup.mascot_enabled_label": "Mascotte coach",
    "settings.voiceup.mascot_on": "Active",
    "settings.voiceup.mascot_off": "Desactivee",
    "settings.voiceup.mascot_note": "Affiche une aide contextuelle pendant le training et les feedbacks.",
    "settings.voiceup.mascot_intensity_label": "Intensite mascot",
    "settings.voiceup.mascot_minimal": "Prompts minimaux",
    "settings.voiceup.mascot_contextual": "Coach contextuel",
    "settings.voiceup.mascot_intensity_note": "Le mode contextuel apparait aux moments cles sans rester present en continu.",
    "home.title": "Accueil",
    "home.subtitle": "Daily quest loop,\nlocal-first.",
    "home.talk_title": "Talk",
    "home.talk_empty": "Aucun talk actif",
    "home.talk_action": "Gérer les talks",
    "home.boss_run_action": "Démarrer un boss run",
    "home.profile_title": "Espaces",
    "home.profile_empty": "Gère tes espaces depuis le sélecteur dans la barre du haut.",
    "home.profile_active": "Actif",
    "home.profile_action": "Gérer les espaces",
    "home.profile_manage_copy": "Ouvre la page Espaces pour créer, renommer ou supprimer des espaces.",
    "home.quest_title": "Quête du jour",
    "home.quest_empty": "Crée un espace et un talk pour charger les quêtes.",
    "home.quest_action": "Démarrer la quête",
    "home.quest_recommended": "Recommandé",
    "home.quest_followup_title": "Suivi des quêtes",
    "home.quest_followup_empty": "Pas encore de quête.",
    "home.quest_followup_continue": "Continuer la dernière quête",
    "home.quest_followup_replay": "Rejouer",
    "home.quest_followup_feedback": "Feedback",
    "home.prototype_title": "Prototype audio",
    "home.prototype_subtitle": "Prise rapide liée à la quête du jour ou libre.",
    "home.prototype_action_daily": "Enregistrer la quête du jour",
    "home.prototype_action_free": "Quête libre",
    "home.prototype_need_profile": "Crée d'abord un espace",
    "home.prototype_need_talk": "Crée d'abord un talk",
    "quick_record.title": "Capture rapide",
    "quick_record.subtitle": "Capture une prise rapide en local, puis transcris si besoin.",
    "quick_record.need_profile": "Crée un espace avant d'enregistrer.",
    "quick_record.setup_profile": "Ouvrir les espaces",
    "quick_record.audio_title": "Capture rapide",
    "quick_record.audio_subtitle": "Enregistre maintenant, puis décide si tu veux une transcription.",
    "quick_record.transcribe_optional_hint": "La transcription est optionnelle. Tu peux garder une prise audio sans feedback.",
    "training.hero_label": "Quête du jour",
    "training.hero_daily_badge": "Quête du jour",
    "training.hero_selected_badge": "Quête sélectionnée",
    "training.use_daily_quest": "Revenir à la quête du jour",
    "training.start": "Démarrer",
    "training.alternate_title": "Choisir une autre quête",
    "training.alternate_subtitle": "Utilise une quête libre maintenant, ou choisis une autre quête par catégorie.",
    "training.free_quest": "Quête libre",
    "training.change_quest": "Changer",
    "training.quest_picker_title": "Sélecteur de quêtes",
    "training.close_picker": "Fermer",
    "training.quest_search_placeholder": "Rechercher des quêtes...",
    "training.quest_category_all": "Toutes",
    "training.quest_sort_recent": "Récentes",
    "training.quest_sort_az": "A-Z",
    "training.quest_sort_category": "Catégorie",
    "training.quest_recent_title": "Quêtes récentes",
    "training.quest_all_title": "Toutes les quêtes",
    "training.quest_picker_empty": "Aucune quête ne correspond au filtre.",
    "training.quest_start_now": "Démarrer",
    "training.quest_selected": "Sélectionnée",
    "training.go_talks": "Aller aux talks",
    "training.feedback_title": "Feedbacks prêts",
    "training.feedback_empty": "Aucun feedback prêt pour l'instant.",
    "training.feedback_ready": "Prêt",
    "training.history_title": "Historique",
    "training.history_empty": "Aucune tentative pour le moment.",
    "training.mascot_label": "Coach Le Pupitre",
    "training.daily_loop_title": "Boucle du jour",
    "training.daily_loop_subtitle": "Complete ces 3 etapes pour stabiliser ta routine de prise de parole.",
    "training.daily_loop_step_practice": "Faire une quete aujourd'hui",
    "training.daily_loop_step_feedback": "Generer au moins un feedback",
    "training.daily_loop_step_momentum": "Garder une serie de 3 jours",
    "training.daily_loop_done": "Fait",
    "training.daily_loop_pending": "A faire",
    "training.daily_loop_open": "Ouvrir",
    "training.daily_loop_hint_pending": "Prends une etape en attente maintenant, puis reviens a cette boucle.",
    "training.daily_loop_hint_complete": "Boucle du jour complete. Tu peux consolider avec un boss run.",
    "training.achievement_title": "Achievement debloque",
    "training.achievement_levelup_title": "Niveau credits monte",
    "training.achievement_levelup_body": "Tu as passe un nouveau palier de credits. Continue les repetitions courtes.",
    "training.achievement_streak3_title": "Serie 3 jours debloquee",
    "training.achievement_streak3_body": "Ta routine devient stable. Garde une boucle simple et reguliere.",
    "training.achievement_streak7_title": "Serie 7 jours debloquee",
    "training.achievement_streak7_body": "Tres bonne dynamique. Valide-la avec un boss run cible.",
    "training.achievement_cta_feedback": "Ouvrir timeline feedbacks",
    "training.achievement_cta_training": "Faire la quete du jour",
    "training.achievement_cta_boss_run": "Demarrer boss run",
    "training.achievement_dismiss": "Plus tard",
    "training.progress_title": "Progression entraînement",
    "training.progress_streak": "Série (jours)",
    "training.progress_credits": "Crédits",
    "training.progress_weekly": "Routine hebdo",
    "training.progress_next": "Prochain palier",
    "training.progress_to_next": "restants",
    "training.quest_map_title": "Carte de quete",
    "training.quest_map_checkpoint": "Palier",
    "training.quest_map_any_category": "Libre",
    "training.quest_map_empty": "Lance une quete pour debloquer ta route hebdo.",
    "training.quest_map_hint_start": "Commence par une quete courte pour valider le palier 1.",
    "training.quest_map_hint_continue": "Continue: une quete de plus debloque le prochain palier.",
    "training.quest_map_hint_today": "Bien joue. Le palier du jour est valide. Continue si tu as de l'energie.",
    "training.quest_map_hint_complete": "Carte hebdo complete. Transforme ce rythme en boss run.",
    "training.rewards_title": "Tableau rewards",
    "training.rewards_unlocked": "debloques",
    "training.rewards_status_unlocked": "Debloque",
    "training.rewards_status_locked": "Bloque",
    "training.rewards_next": "Prochain unlock",
    "training.reward_streak_3": "Serie 3 jours",
    "training.reward_streak_7": "Serie 7 jours",
    "training.reward_credits_100": "100 credits",
    "training.reward_weekly_habit": "Routine hebdo",
    "profiles.title": "Espaces",
    "profiles.subtitle": "Ouvrez un espace pour commencer ou créez-en un nouveau.",
    "profiles.create_title": "Créer votre premier espace",
    "profiles.create_placeholder": "Nom de l'espace",
    "profiles.create_action": "Créer",
    "profiles.create_helper": "Vous pourrez le renommer plus tard.",
    "profiles.existing_title": "Mes espaces",
    "profiles.add_title": "Ajouter un espace",
    "profiles.name_required": "Le nom est requis",
    "profiles.name_exists": "Un espace avec ce nom existe déjà",
    "profiles.confirm_delete": "Supprimer cet espace et ses données locales sur cet appareil ?",
    "profiles.confirm_delete_action": "Supprimer",
    "profiles.cancel": "Annuler",
    "profiles.active": "Actuel",
    "profiles.switch": "Ouvrir",
    "profiles.switch_blocked_recording": "Arrete l'enregistrement avant de changer d'espace.",
    "profiles.rename": "Renommer",
    "profiles.delete": "Supprimer",
    "profiles.row_actions": "Actions de l'espace",
    "profiles.empty_title": "Créez votre premier espace",
    "profiles.empty_body": "Les espaces séparent vos talks et données de pratique sur cet appareil.",
    "profiles.delete_title_prefix": "Supprimer l'espace",
    "profiles.delete_body_prefix": "Les données locales de",
    "profiles.delete_body_suffix": "seront supprimées de cet appareil.",
    "talk.title": "Préparer un talk",
    "talk.subtitle": "Préparer un talk, une conférence, un pitch.",
    "talk.need_profile": "Crée d'abord un espace.",
    "talk.goto_profiles": "Aller aux espaces",
    "talk.active_title": "Talk actif",
    "talk.title_placeholder": "Titre du talk",
    "talk.audience_placeholder": "Audience (optionnel)",
    "talk.goal_placeholder": "Objectif (optionnel)",
    "talk.duration_placeholder": "Durée cible en minutes",
    "talk.save": "Enregistrer",
    "talk.back": "Retour à l'accueil",
    "talk.title_required": "Le titre est requis",
    "talk_steps.aria": "Étapes du talk",
    "talk_steps.define": "Définir",
    "talk_steps.builder": "Builder",
    "talk_steps.train": "S'entraîner",
    "talk_steps.export": "Exporter",
    "talk_define.title": "Définir",
    "talk_define.subtitle": "Définir le titre, l'audience, l'objectif et la durée cible du talk.",
    "talk_define.missing": "Ce talk est introuvable.",
    "talk_define.field_title": "Titre",
    "talk_define.field_audience": "Audience",
    "talk_define.field_goal": "Objectif",
    "talk_define.field_duration": "Durée cible",
    "talk_define.duration_missing": "Définir une durée",
    "talk_define.empty_value": "Pas encore défini",
    "talk_define.autosave_hint": "Les changements sont enregistrés automatiquement quand vous quittez un champ.",
    "talk_define.saving": "Enregistrement...",
    "talk_define.saved": "Enregistré",
    "talk_define.save_error": "Impossible d'enregistrer les changements",
    "talk_define.duration_invalid": "La durée doit être un nombre de minutes positif",
    "talk_define.readiness_title": "Preparation du talk",
    "talk_define.readiness_subtitle": "Complete ces champs avant la structure et la repetition.",
    "talk_define.readiness_ready": "Le cadrage est complet. Tu peux passer au Builder avec un brief clair.",
    "talk_define.readiness_missing": "Prochain champ a definir :",
    "talk_define.check_title": "Titre defini",
    "talk_define.check_audience": "Audience definie",
    "talk_define.check_goal": "Objectif defini",
    "talk_define.check_duration": "Duree definie",
    "talk_define.check_done": "Fait",
    "talk_define.check_missing": "Manquant",
    "talk_define.stage_title": "Étape",
    "talk_define.stage_hint": "Définis l'étape de progression actuelle pour ce talk.",
    "talk_define.continue_builder": "Continuer vers Builder",
    "talk_define.continue_train": "Continuer vers l'entraînement",
    "talk_define.continue_export": "Continuer vers l'export",
    "talk_define.open_export": "Ouvrir l'export",
    "quest.title": "Quête",
    "quest.code": "Code",
    "quest.daily": "quotidien",
    "quest.loading": "Chargement de la quête...",
    "quest.response_placeholder": "Rédige ta réponse",
    "quest.submit": "Soumettre le texte",
    "quest.submit_update": "Soumettre le texte modifié",
    "quest.back": "Retour",
    "quest.audio_hint": "Enregistre ta réponse ci-dessous.",
    "quest.analyze": "Analyser",
    "quest.transcribe_first": "Transcrire d'abord",
    "quest.request_feedback": "Demander un feedback",
    "quest.skip_transcription": "Passer la transcription",
    "quest.keep_without_feedback": "Garder sans feedback",
    "quest.transcript_optional": "La transcription est optionnelle. Tu peux garder la prise sans feedback.",
    "quest.empty": "Aucune quête chargée.",
    "quest.response_required": "La réponse ne peut pas être vide",
    "quest.step_brief": "1. Brief",
    "quest.step_capture": "2. Capture",
    "quest.step_analysis": "3. Analyser",
    "quest.capture_saved": "Enregistré",
    "quest.capture_saved_text": "Réponse texte enregistrée. Tu peux analyser maintenant.",
    "quest.capture_saved_audio": "Audio enregistré. Transcris pour débloquer l'analyse.",
    "quest.capture_ready_audio": "Audio et transcription enregistrés. Tu peux analyser maintenant.",
    "quest.submit_to_continue": "Soumets une réponse pour continuer.",
    "quest.analysis_wait_capture": "Rédige une réponse puis soumets-la pour continuer.",
    "quest.analysis_wait_submit": "Soumets ta réponse texte pour débloquer l'analyse.",
    "quest.analysis_wait_record": "Enregistre une réponse pour continuer.",
    "quest.analysis_wait_transcript": "Utilise l'action Transcrire du recorder pour débloquer l'analyse, ou garde la prise sans feedback.",
    "quest.analysis_ready": "Prêt à analyser et générer un feedback.",
    "quest.text_submitted_hint": "Texte enregistré. Modifie le texte puis soumets à nouveau pour créer une nouvelle tentative.",
    "quest.text_changed_resubmit": "Le texte a changé. Soumets à nouveau pour mettre à jour la tentative avant l'analyse.",
    "quest.status_feedback": "Feedback prêt",
    "quest.status_transcribed": "Transcrit",
    "quest.status_recorded": "Enregistré",
    "quest.status_submitted": "Soumis",
    "quest.status_not_started": "Pas démarré",
    "quest.output_audio": "Audio",
    "quest.output_text": "Texte",
    "talks.title": "Talks",
    "talks.subtitle": "Choisis le talk à travailler.",
    "talks.create": "Nouveau talk",
    "talks.empty": "Aucun talk. Crée le premier.",
    "talks.set_active": "Activer",
    "talks.active": "Actif",
    "talks.loading": "Chargement des talks...",
    "talks.duration": "Durée cible",
    "talks.stage": "Étape",
    "talks.last_activity": "Dernière activité",
    "talks.last_activity_unknown": "Inconnue",
    "talks.last_activity_just_now": "à l'instant",
    "talks.minutes": "min",
    "talks.view_report": "Rapport",
    "talks.mascot_label": "Coach talks",
    "talks.blueprint_label": "Mission talk",
    "talks.blueprint_done": "Valide",
    "talks.blueprint_pending": "A faire",
    "talks.blueprint_open": "Ouvrir",
    "talk_report.title": "Rapport du talk",
    "talk_report.subtitle": "Toutes les quêtes et la progression du talk.",
    "talk_report.loading": "Chargement du rapport...",
    "talk_report.unknown": "Talk inconnu",
    "talk_report.duration": "Durée cible",
    "talk_report.minutes": "min",
    "talk_report.active": "Actif",
    "talk_report.set_active": "Activer",
    "talk_report.back": "Retour aux talks",
    "talk_report.boss_run": "Boss run",
    "talk_report.builder": "Builder",
    "talk_report.packs": "Importer un feedback",
    "talk_report.export_title": "Exporter un pack",
    "talk_report.total": "Quêtes",
    "talk_report.started": "Démarrées",
    "talk_report.feedback": "Feedbacks",
    "talk_report.last_activity": "Dernière activité",
    "talk_report.quest_library": "Bibliothèque des quêtes",
    "talk_report.quest_label": "Quête",
    "talk_report.open_quest": "Ouvrir la quête",
    "talk_report.view_feedback": "Voir feedback",
    "talk_report.no_quests": "Aucune quête disponible.",
    "talk_report.timeline": "Timeline",
    "talk_report.timeline_empty": "Pas encore d'activité.",
    "talk_report.timeline_boss_run": "Boss run",
    "talk_report.timeline_started": "Démarré",
    "talk_report.timeline_recorded": "Enregistré",
    "talk_report.timeline_transcribed": "Transcrit",
    "talk_report.timeline_feedback": "Feedback prêt",
    "talk_report.timeline_peer_review": "Feedback pair",
    "talk_report.timeline_peer_review_status": "Revue reçue",
    "talk_report.view_item": "Voir",
    "boss_run.title": "Boss run",
    "boss_run.subtitle": "Enregistrement long + feedback (6-12 min).",
    "boss_run.no_talk": "Sélectionne un talk actif pour rattacher ce run.",
    "boss_run.need_profile": "Crée un espace pour lancer un boss run.",
    "boss_run.setup_profile": "Aller aux espaces",
    "boss_run.need_talk": "Crée un talk avant de lancer un boss run.",
    "boss_run.setup_talk": "Créer un talk",
    "boss_run.audio_title": "Enregistrement boss run",
    "boss_run.audio_subtitle": "Enregistre une prise longue.",
    "boss_run.request_feedback": "Analyser le run",
    "boss_run.view_report": "Voir le rapport",
    "boss_run.transcript_optional": "La transcription est optionnelle, mais requise pour le feedback.",
    "boss_run.latest_title": "Dernier run",
    "boss_run.latest_label": "Boss run",
    "boss_run.latest_date": "Date",
    "boss_run.latest_status": "Statut",
    "boss_run.latest_empty": "Pas encore de boss run.",
    "boss_run.loading": "Chargement du boss run...",
    "boss_run.status_empty": "Pas démarré",
    "boss_run.status_recorded": "Enregistré",
    "boss_run.status_transcribed": "Transcrit",
    "boss_run.status_feedback": "Feedback prêt",
    "boss_run.run_missing": "Enregistre un run avant d'analyser.",
    "builder.title": "Talk builder",
    "builder.subtitle": "Structure le plan du talk.",
    "builder.no_profile": "Crée un espace pour éditer un plan.",
    "builder.no_talk": "Crée un talk pour démarrer le plan.",
    "builder.setup_profile": "Aller aux espaces",
    "builder.setup_talk": "Créer un talk",
    "builder.outline_label": "Plan",
    "builder.save": "Enregistrer le plan",
    "builder.saving": "Enregistrement...",
    "builder.saved": "Plan enregistré",
    "builder.export": "Exporter en markdown",
    "builder.export_ready": "Export prêt",
    "builder.export_path": "Enregistré dans",
    "builder.export_reveal": "Afficher le fichier",
    "builder.loading": "Chargement du plan...",
    "builder.framework_title": "Challenge methode",
    "builder.framework_apply_template": "Appliquer un template de structure",
    "builder.template_confirm_overwrite": "Remplacer le plan actuel par ce template de framework ?",
    "builder.prompt_problem_solution_impact_1": "Quelle douleur ou risque est urgent maintenant ?",
    "builder.prompt_problem_solution_impact_2": "Quelle est ta solution en une phrase ?",
    "builder.prompt_problem_solution_impact_3": "Quel impact concret attends-tu ?",
    "builder.prompt_context_change_decision_1": "Qu'est-ce qui a change depuis la derniere update ?",
    "builder.prompt_context_change_decision_2": "Quelles options existent et quels compromis ?",
    "builder.prompt_context_change_decision_3": "Quelle decision est attendue maintenant ?",
    "builder.prompt_hook_story_proof_1": "Quel hook l'audience doit retenir d'abord ?",
    "builder.prompt_hook_story_proof_2": "Quelle histoire courte rend le probleme concret ?",
    "builder.prompt_hook_story_proof_3": "Quelle preuve cree la confiance ?",
    "builder.template_problem": "Probleme",
    "builder.template_solution": "Solution",
    "builder.template_impact": "Impact",
    "builder.template_decision": "Decision et demande",
    "builder.template_context": "Contexte",
    "builder.template_change": "Ce qui change",
    "builder.template_options": "Options et compromis",
    "builder.template_hook": "Hook",
    "builder.template_story": "Histoire",
    "builder.template_proof": "Preuve",
    "builder.template_close": "Cloture et prochaine etape",
    "packs.title": "Packs",
    "packs.subtitle": "Importer un feedback pair.",
    "packs.no_profile": "Crée un espace pour gérer les packs.",
    "packs.no_talk": "Crée un talk pour exporter des runs.",
    "packs.setup_profile": "Aller aux espaces",
    "packs.setup_talk": "Créer un talk",
    "packs.run_list_title": "Boss runs",
    "packs.run_status_recorded": "Enregistré",
    "packs.run_status_transcribed": "Transcrit",
    "packs.run_status_feedback": "Feedback prêt",
    "packs.export": "Exporter le pack",
    "packs.export_ready": "Export prêt",
    "packs.export_path": "Enregistré dans",
    "packs.export_reveal": "Afficher le fichier",
    "packs.import_title": "Importer un feedback pair",
    "packs.import_drop_title": "Dépose le pack zip ici",
    "packs.import_drop_hint": "Glisse un pack zip sur la fenêtre pour importer.",
    "packs.import_pick": "Ou choisir un fichier",
    "packs.import_path": "Fichier sélectionné",
    "packs.import_checking": "Vérification du pack...",
    "packs.import_invalid": "Dépose d'abord un pack zip valide.",
    "packs.import_from": "De",
    "packs.import_from_unknown": "Inconnu",
    "packs.import_contents": "Contenu",
    "packs.import_pack_id": "Pack",
    "packs.import_placeholder": "Chemin du pack zip",
    "packs.import_no_path": "Ce chemin de fichier n'est pas disponible.",
    "packs.import_action": "Importer",
    "packs.import_success": "Feedback importé",
    "packs.import_view_talk": "Voir le talk importé",
    "feedback.title": "Feedback",
    "feedback.subtitle": "Prochaines améliorations.",
    "feedback.timeline_title": "Timeline feedbacks",
    "feedback.timeline_subtitle": "Suivi des feedbacks de quetes et boss run.",
    "feedback.timeline_total": "Elements",
    "feedback.timeline_average": "Score moyen",
    "feedback.timeline_notes": "Avec notes",
    "feedback.timeline_scope_workspace": "Espace",
    "feedback.timeline_scope_talk": "Talk actif",
    "feedback.timeline_filter_all": "Tous",
    "feedback.timeline_filter_quest": "Quetes",
    "feedback.timeline_filter_run": "Boss runs",
    "feedback.timeline_filter_unread": "Non lus",
    "feedback.timeline_open": "Ouvrir",
    "feedback.timeline_focus_title": "Dernier feedback pret",
    "feedback.timeline_focus_hint": "Lis-le maintenant, puis continue ta boucle.",
    "feedback.timeline_focus_badge": "Nouveau",
    "feedback.timeline_focus_delta_up": "Mieux que le precedent",
    "feedback.timeline_focus_delta_down": "En dessous du precedent",
    "feedback.timeline_focus_delta_flat": "Score identique au precedent",
    "feedback.timeline_focus_action_quest": "Faire la quete suivante",
    "feedback.timeline_focus_action_run": "Ouvrir boss run",
    "feedback.timeline_empty": "Aucun feedback pour ce scope.",
    "feedback.timeline_run_title": "Review boss run",
    "feedback.feedback_id": "ID feedback",
    "feedback.last_attempt": "Dernière tentative",
    "feedback.back_parent": "Retour à la quête",
    "feedback.review_marked": "Marque comme lu",
    "feedback.review_already": "Deja lu",
    "feedback.reviewed_label": "Lu",
    "feedback.unread_label": "Non lu",
    "feedback.score": "Score",
    "feedback.loading": "Chargement du feedback...",
    "feedback.empty": "Aucun feedback disponible.",
    "feedback.actions": "Priorités",
    "feedback.no_actions": "Aucune priorité pour l'instant.",
    "feedback.practice_next_title": "Pratiquer ensuite",
    "feedback.practice_next_subtitle": "Lance directement une quete ciblee tant que ce feedback est encore frais.",
    "feedback.practice_next_training": "Ouvrir training",
    "feedback.metrics": "Métriques",
    "feedback.comments": "Commentaires",
    "feedback.metric_wpm": "Mots par minute",
    "feedback.metric_fillers": "Tics par minute",
    "feedback.metric_pause": "Pauses",
    "feedback.metric_sentence": "Mots par phrase",
    "feedback.metric_repeat": "Mots répétés",
    "feedback.context_label": "Contexte",
    "feedback.quest_code": "Quête",
    "feedback.run_label": "Boss run",
    "feedback.notes_title": "Tes notes",
    "feedback.notes_placeholder": "Ajoute tes notes ou corrections...",
    "feedback.notes_saving": "Enregistrement...",
    "feedback.notes_saved": "Notes enregistrées",
    "feedback.notes_error": "Impossible d'enregistrer",
    "feedback.mascot_label": "Coach feedback",
    "peer_review.title": "Feedback pair",
    "peer_review.subtitle": "Synthèse du feedback pair.",
    "peer_review.loading": "Chargement du feedback pair...",
    "peer_review.back": "Retour au talk",
    "peer_review.reviewer_unknown": "Revieweur anonyme",
    "peer_review.rubric": "Rubrique",
    "peer_review.scores": "Scores",
    "peer_review.free_text": "Notes",
    "peer_review.timestamps": "Repères",
    "peer_review.empty": "Aucune donnée de feedback pair.",
    "security.title": "Sonde sécurité (dev)",
    "security.subtitle": "Les deux tests doivent être bloqués en production.",
    "security.test_network": "Tester le réseau",
    "security.test_blocked": "Tester un chemin interdit",
    "security.test_appdata": "Tester appdata",
    "security.network": "Réseau",
    "security.fs_blocked": "Système de fichiers (interdit)",
    "security.fs_appdata": "Système de fichiers (appdata)",
    "audio.title": "Prototype audio",
    "audio.subtitle": "Enregistre une prise de voix en local.",
    "audio.pass_label": "Passe 0",
    "audio.phase_capture": "Enregistrer",
    "audio.phase_quick_clean": "Nettoyage rapide",
    "audio.phase_analyze_export": "Analyser / Exporter",
    "audio.start": "Démarrer",
    "audio.pause": "Pause",
    "audio.resume": "Reprendre",
    "audio.stop": "Arrêter + sauver",
    "audio.rec_badge": "REC",
    "audio.paused_badge": "PAUSE",
    "audio.quality_no_signal": "Aucun signal",
    "audio.quality_too_loud": "Trop fort - saturation",
    "audio.quality_noisy_room": "Pièce bruyante",
    "audio.quality_too_quiet": "Trop faible - rapproche-toi",
    "audio.quality_good_level": "Niveau correct",
    "audio.reveal": "Afficher le fichier",
    "audio.transcribe": "Transcrire",
    "audio.status": "Statut",
    "audio.status_idle": "Inactif",
    "audio.status_requesting": "Demande micro",
    "audio.status_recording": "Enregistrement",
    "audio.status_encoding": "Encodage",
    "audio.duration": "Durée",
    "audio.saved_to": "Enregistré dans",
    "audio.transcription": "Transcription",
    "audio.stage_queued": "En attente",
    "audio.stage_analyze": "Analyse audio",
    "audio.stage_serialize": "Finalisation",
    "audio.stage_transcribe": "Transcription",
    "audio.stage_final": "Passe finale",
    "audio.stage_done": "Terminé",
    "audio.stage_processing": "Traitement",
    "audio.transcript_title": "Transcript",
    "audio.export_txt": "Exporter en .txt",
    "audio.export_json": "Exporter en .json",
    "audio.export_srt": "Exporter en .srt",
    "audio.export_vtt": "Exporter en .vtt",
    "audio.exported_to": "Exporté dans",
    "audio.open_export": "Ouvrir l'export",
    "audio.live_transcript": "Transcription live",
    "audio.quick_clean_transcribe_optional": "La prise est sauvegardee. La transcription est optionnelle, maintenant ou plus tard.",
    "audio.quick_clean_not_ready": "La transcription n'est pas encore prête.",
    "audio.quick_clean_transcribe_now": "Transcrire maintenant",
    "audio.quick_clean_placeholder": "Modifier la transcription",
    "audio.quick_clean_save_edited": "Sauver la transcription modifiée",
    "audio.quick_clean_auto_clean": "Nettoyer les tics",
    "audio.quick_clean_fix_punctuation": "Corriger la ponctuation",
    "audio.quick_clean_open_original": "Ouvrir l'audio original",
    "audio.quick_clean_continue": "Continuer",
    "audio.quick_clean_trim_title": "Rogner l'audio",
    "audio.quick_clean_trim_hint": "Choisis debut et fin, puis applique le rognage. Retrancris apres rognage.",
    "audio.quick_clean_trim_unavailable": "La duree audio est indisponible pour le rognage.",
    "audio.quick_clean_trim_start": "Debut",
    "audio.quick_clean_trim_end": "Fin",
    "audio.quick_clean_trim_duration": "Duree selectionnee",
    "audio.quick_clean_trim_reset": "Reinitialiser",
    "audio.quick_clean_trim_apply": "Appliquer le rognage",
    "audio.quick_clean_trim_applying": "Rognage en cours...",
    "audio.quick_clean_trim_applied": "Rognage applique. Retrancris pour continuer.",
    "audio.calibration_title": "Guidage signal",
    "audio.calibration_good_1": "Le niveau est bon. Garde cette distance au micro.",
    "audio.calibration_good_2": "Fais une phrase test avant une longue prise.",
    "audio.calibration_quiet_1": "Rapproche-toi du micro ou choisis une entree plus forte.",
    "audio.calibration_quiet_2": "Augmente le gain d'entree systeme si le niveau reste bas.",
    "audio.calibration_loud_1": "Baisse le gain micro ou eloigne-toi pour eviter la saturation.",
    "audio.calibration_loud_2": "Vise des pics moyens stables, pas le volume max.",
    "audio.calibration_noisy_1": "Reduis le bruit de piece et coupe les sources audio proches.",
    "audio.calibration_noisy_2": "Choisis un micro directionnel si possible.",
    "audio.calibration_no_signal_1": "Verifie les permissions micro et le peripherique choisi.",
    "audio.calibration_no_signal_2": "Parle deux secondes pour confirmer la capture avant de lancer.",
    "audio.telemetry_budget_title": "Budget telemetrie",
    "audio.telemetry_budget_ok": "Dans le budget",
    "audio.telemetry_budget_warn": "Budget depasse",
    "audio.export_preset_presentation": "Présentation",
    "audio.export_preset_podcast": "Podcast",
    "audio.export_preset_voice_note": "Note vocale",
    "audio.more_formats": "Plus de formats",
    "audio.back_to_quick_clean": "Retour au nettoyage rapide",
    "audio.advanced": "Avancé",
    "audio.diagnostic": "Diagnostic",
    "audio.announcement_started": "Enregistrement démarré",
    "audio.announcement_paused": "Enregistrement en pause",
    "audio.announcement_resumed": "Enregistrement repris",
    "audio.announcement_stopped": "Enregistrement arrêté",
    "audio.transcript_empty": "La transcription ne peut pas être vide.",
    "audio.profile_required": "Crée un espace avant d'enregistrer.",
    "audio.error_sidecar_missing": "Moteur de transcription manquant. Réinstallez l'application.",
    "audio.error_sidecar_missing_action": "Ouvrir l'aide",
    "audio.error_model_missing": "Modèle manquant. Téléchargez-le dans les réglages.",
    "audio.error_model_missing_action": "Ouvrir les réglages",
    "audio.error_asr_timeout": "Délai dépassé. Essayez un enregistrement plus court ou un modèle plus léger.",
    "status.idle": "inactif",
    "status.running": "en cours",
    "status.allowed": "autorisé",
    "status.blocked": "bloqué",
    "status.error": "erreur"
  }
};

function loadLocale(): Locale {
  try {
    const stored = readPreference(STORAGE_KEY, { legacyKeys: LEGACY_STORAGE_KEYS });
    if (stored === "en" || stored === "fr") {
      return stored;
    }
  } catch {
    return "en";
  }
  return "en";
}

const locale = ref<Locale>(loadLocale());
void hydratePreference(STORAGE_KEY, { legacyKeys: LEGACY_STORAGE_KEYS }).then((stored) => {
  if (stored === "en" || stored === "fr") {
    locale.value = stored;
  }
});

function setLocale(next: Locale) {
  locale.value = next;
  writePreference(STORAGE_KEY, next);
}

function t(key: string) {
  return messages[locale.value][key] ?? key;
}

export function useI18n() {
  return { locale, setLocale, t };
}

